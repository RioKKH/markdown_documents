## 秘密鍵と公開鍵の生成

ssh-keygen -t rsa -b 2048

* `ssh-keygen`: SSH鍵生成コマンド
* `-t rsa`: RSA暗号方式
* `-b 2048` : 鍵長を2048ビットに指定

```bash
Your public key has been saved in /home/<ユーザー名>/.ssh/id_rsa.pub
The key fingerprint is:
SHA256:7P3eSHxf/y9m0+divvsu87WBrCyymrmtj8AJT9IEHII <ユーザー名>@NNN-23338-s
The key's randomart image is:
+---[RSA 2048]----+
|+o.              |
|E..              |
|   .             |
|  o    .         |
| o o    S        |
|  * .  . . .. .  |
|   =    . . oo.oo|
|    . =. ..o.+X.O|
|     B=+o .++==#&|
+----[SHA256]-----+
```

`~/.ssh/id_rsa`と`~/.ssh/id_rsa.pub`が秘密鍵と公開鍵が格納されたファイル。

## 公開鍵を設定

`.ssh/authorized_keys`に`id_rsa.pub`の公開鍵をコピペする

## SSH設定変更

`PubkeyAuthentication yes`tにはもともとなっていた。
`AuthorizedKeysFile`はコメントアウトして有効にした。

## /home/<ユーザー名>/のパーミッション変更

777になってしまっていた為、公開鍵の認証で拒否されてしまっていた。

```bash
 2月 24 01:51:22 NNN-23338-s sshd[245458]: Accepted password for <ユーザー名> from 172.26.32.232 port 52940 ssh2
```

`/home/<ユーザー名>`のパーミッションを755に変更することで、公開鍵の認証が正常に行われるようになった。
